(function(a){a.fn.ndrThumbs=function(b){var c=a.extend({},a.fn.ndrThumbs.defaults,b);return this.each(function(){var k=a(this);var i=k.children(".ndrThumbs"),f=i.children(".ts_thumbnails"),u=i.children("li").not(f),t=u.length,j=a("#thumbnails");var s=c.thumb_height+2*5,p=c.thumb_height+2*5+6,h=(p*1.5),e=u.eq(0),g=e.offset().left-0.5*s+0.5*e.width();j.css({top:e.offset().top/c.thumb_threshold+"px",left:g+"px"});j.stop(true).hide();u.bind("mouseenter",function(){var y=a(this),v=y.index();var w=y.offset().left-0.5*c.thumb_width+0.5*y.width();var x=y.find("a").attr("data-rel");j.children("img").attr("src",x);j.stop(true).show().fadeIn("slow").animate({left:w+"px"},c.speed,c.easing);}).bind("mouseleave",function(){j.stop(true).hide();});var o=a(".ndrThumbs").find("img");var l=a(".window2").width();var r=o.size();var q=a("#description");var d=a("#caption");var m=l*r;a("#slideshow").append(o);q.css({opacity:0.7});q.html(a("#slideshow img:first").attr("alt"));var n=0;slideSwitch=function(){if(n==0){var v=a("#slideshow img.active");if(v.length==0){v=a("#slideshow img:last");}var w=v.next().length?v.next():a("#slideshow img:first");v.addClass("last-active");q.css("width",w.width());q.css({opacity:0});q.html(w.attr("alt")).animate({opacity:0.7},1000,function(){});w.css({opacity:0});w.addClass("active").stop().fadeIn("slow").animate({opacity:1},1000,function(){v.removeClass("active last-active");});}};a(function(){setInterval("slideSwitch()",5000);});a("#slideshow img").hover(function(){n=1;},function(){n=0;});u.bind("click",function(){a("#slideshow img").removeClass("active");console.log("clicked");n=1;var w=a(this);var v=a(u).index(this);a("#slideshow img").each(function(z){if(v==z){console.log("foundit");var x=a(this);var y=x.next();console.log(y);x.fadeIn("fast").addClass("active");a("#description").html(x.attr("alt")).animate({opacity:0.7},1000,function(){});console.log(a(this).next());}});n=0;});});};a.fn.ndrThumbs.defaults={speed:1000,easing:"easeOutExpo",thumb_width:75,thumb_height:75,thumb_threshold:1.32,onClick:function(){return false;}};})(jQuery);
